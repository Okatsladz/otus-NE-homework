## Лабораторная работа #8. Настройка DHCPv4
------

Топология сети:  
![Топология сети](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/Topology.png)  
Используемое ПО: Cisco Packet Tracer 

**Таблица адресации**
| Устройство | Интерфейс  | IPv6-Адрес | Маска подсети |
| ------------- |:------------------:|:------------------:|:------------------:|
| R1     | G0/0/0 | 10.0.0.1 | 255.255.255.252 | 
| R1    | G0/0/1 | # | #  | 
| R1    | G0/0/1.100 |  # | #  | 
| R1    | G0/0/1.200 |  # | #  | 
| R2    | G0/0/0 |  10.0.0.2 | #  | 
| R2     | G0/0/1 | # | # | 
| S1     | VLAN 200 | # | # | 
| S2     | VLAN 1 | # | # | 
| PC-A    | NIC |  DHCP  | DHCP  | 
| PC-B     | NIC |   DHCP  | DHCP  | 

**Таблица vlan**
| VLAN | Имя VLAN  | Назначенный интерфейс |
| ------------- |:------------------:|:------------------:| 
| 1     | # | S2: F0/18 | 
| 100    | Client |  S1: F0/6   | 
| 200    | Managment | S1: VLAN 200    | 
| 999     | Parking_Lot | S1: F0/1-4, F0/7-24, G0/1-2 | 
| 1000   | Self |  #  | 



### Часть 1. Настройка топологии и конфигурация основных параметро коммутаторов

#### Шаг 1. Создаём сеть согласно топологии.  
**a.**	Соединяем с помощью Витой Пары следующие узлы:
| Устройство/Порт | Устройство/Порт | 
| ------------- |:------------------:| 
| PC-A / Fa0     | S1 / Fa0/6    |
| S1 / Fa0/5     | R1 / G0/0/1   | 
| R1 / G0/0/0    | R2 / G0/0/0   | 
| R2 / G0/0/1    | S2 / Fa0/5    | 
| S2 / Fa0/15     | PC-B / Fa0     |    


#### Шаг 2.Настроим базовые параметры маршрутизаторов и коммутаторов
**a.**  На коммутаторах S1 и S2 cносим настройки, назначаем пароли для привелигрованного режима, консоли, VTY, зашифруем пароль, включим его и введём в транк,  пропишем logging synchronous , и сохраним конфигурацию в файл. Включим возможность ipv6 адресации.

![Консоль1](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console1.png) 

**b.**  На маршрутизаторах R1 и R2 cносим настройки, назначаем пароли для привелигрованного режима, консоли, VTY, зашифруем пароли, включим его и введём в транк,  пропишем logging synchronous , и сохраним конфигурацию в файл. Включим возможность ipv6 адресации.

![Консоль2](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console2.png) 

#### Шаг 3. Настроим Ipv6 адресацию и маршрутизацию на роутерах. 

**a.** 	Настроим интерфейсы G0/0/0 и G0/1 на R1 и R2 с адресами IPv6, указанными в таблице выше.

![Консоль3](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console3.png) 

**d.**  Создаём статический маршрут от R1 к R2. Проверяем доступность. Она есть.

![Консоль4](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console4.png)  

### Часть 2. Проверка назначения адреса SLAAC от R1

#### Шаг 1. Проверим работоспособность SLAAC на PC-A.

**a.** 	Не забываем включить автоматическое получение адреса.

![Консоль5](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console5.png)  

### Часть 3.Настройка и проверка сервера DHCPv6 на R1

#### Шаг 1. Настройте R1 для предоставления DHCPv6 без состояния для PC-A.

**a.**  Для создания одноадресных адресов с DNS суффиксом создадим DNS-пул DHCP IPv6 на R1 с именем R1-STATELESS. В составе этого пула назначим адрес DNS-сервера как 2001:db8:acad: :1, а имя домена — как stateless.com.

**b.** Настроим интерфейс G0/0/1 на R1, чтобы предоставить флаг конфигурации OTHER для локальной сети R1 и укажим только что созданный пул DHCP в качестве ресурса DHCP для этого интерфейса. Таким образом мы создадим ручной DHCP.

![Консоль6](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console6.png)  

**c.** Проверим снова PC-A, перезагрузив его. Проверим соединение

![Консоль7](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console7.png)  


### Часть 4. Настройка сервера DHCPv6 с сохранением состояния на R1

#### Шаг 1.Создадим пул DHCPv6 на R1 для сети R2. Это предоставит адреса локальной сети, подключенной к интерфейсу G0/0/1 на R2. В составе пула задайте DNS-сервер 2001:db8:acad: :254 и задайте доменное имя STATEFUL.com.

#### Шаг 2.Назначим пул на интерфейс G0/0/0

![Консоль8](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console8.png)  

### Часть 5. Настройка и проверка ретрансляции DHCPv6 на R2.

#### Шаг 1.Проверим адресацию SLAAC на PC-b.

![Консоль9](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console9.png)  


#### Шаг 2. Настроим R2 в качестве агента DHCP-ретрансляции для локальной сети на G0/0/1.

**a.** К сожалению DHCP-relay не рабоатет в IOS 15.3 и выше, работа далее не выполнима. По идее мы настраиваем релей, pc-b получает адреса с R1. Вместо этого я назначил DHCP-сервер адресом R1. 

![Консоль10](https://github.com/Okatsladz/otus-NE-homework/blob/main/Labs/lab8/Images/console10.png)  




